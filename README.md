# üìò MyFitnessSnap ‚Äî Telegram AI Food Tracker

MyFitnessSnap ‚Äî —ç—Ç–æ AI-–±–æ—Ç –≤ Telegram, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–∏—Ç–∞–Ω–∏–µ –ø–æ —Ñ–æ—Ç–æ –µ–¥—ã. –ü—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–π —Å–Ω–∏–º–æ–∫ ‚Äî –∏ –±–æ—Ç —Å–∞–º —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç –∫–∞–ª–æ—Ä–∏–∏, –±–µ–ª–∫–∏, –∂–∏—Ä—ã –∏ —É–≥–ª–µ–≤–æ–¥—ã (–ë–ñ–£), —Å–æ—Ö—Ä–∞–Ω–∏–≤ –≤—Å—ë –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º –¥–Ω–µ–≤–Ω–∏–∫–µ –ø–∏—Ç–∞–Ω–∏—è. –ë–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ ‚Äî —Ç–æ–ª—å–∫–æ Telegram –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì∏ –§–æ—Ç–æ–∞–Ω–∞–ª–∏–∑ –µ–¥—ã —á–µ—Ä–µ–∑ **GPT-4 Vision API**
- üî¢ –ü–æ–¥—Å—á—ë—Ç **–∫–∞–ª–æ—Ä–∏–π, –±–µ–ª–∫–æ–≤, –∂–∏—Ä–æ–≤, —É–≥–ª–µ–≤–æ–¥–æ–≤**
- üìä –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–ª–æ—Ä–∏–∏ –≤ –¥–µ–Ω—å) –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚è±Ô∏è –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏ –∏ –ø–æ–≤—Ç–æ—Ä –±–ª—é–¥
- üí¨ –£–¥–æ–±–Ω—ã–π Telegram-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ Web-–≤–µ—Ä—Å–∏—è –Ω–∞ SSR PHP)

---

## üß† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç         | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                    |
|------------------|-------------------------------|
| Backend          | PHP 8.x                        |
| Telegram Bot     | [php-telegram-bot/core]       |
| AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è    | OpenAI GPT-4 Vision API        |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö      | PostgreSQL                     |
| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Web)  | Twig –∏–ª–∏ Blade (SSR)           |
| –•–æ—Å—Ç–∏–Ω–≥          | Docker + Nginx + Supervisor    |
| Cron –∑–∞–¥–∞—á–∏      | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (—Å–±—Ä–æ—Å, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è)|

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
myfitnesssnap/
‚îú‚îÄ‚îÄ bot/                    # Telegram webhook –∏ –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ BotHandler.php
‚îÇ   ‚îî‚îÄ‚îÄ TelegramRouter.php
‚îú‚îÄ‚îÄ public/                 # –í–µ–±-–¥–æ—Å—Ç—É–ø–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ index.php
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ AI/                 # GPT-4 Vision API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FoodAnalyzer.php
‚îÇ   ‚îú‚îÄ‚îÄ DB/                 # PostgreSQL —Ä–∞–±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MealRepository.php
‚îÇ   ‚îú‚îÄ‚îÄ Web/                # SSR-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.php
‚îú‚îÄ‚îÄ scripts/                # cron-—Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ docker/                 # Dockerfile'—ã
‚îú‚îÄ‚îÄ .env                    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker + Docker Compose
- –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
- OpenAI API –∫–ª—é—á

### üîß –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
$ git clone https://github.com/yourname/myfitnesssnap.git
$ cd myfitnesssnap

# –°–æ–∑–¥–∞—ë–º .env —Ñ–∞–π–ª
$ cp .env.prod.example .env
# –ó–∞–ø–æ–ª–Ω—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: TELEGRAM_TOKEN, OPENAI_API_KEY –∏ —Ç.–¥.

# –ü–æ–¥–Ω–∏–º–∞–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
$ docker-compose up -d --build

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Webhook Telegram
$ curl -F "url=https://example.com/bot/webhook.php" https://api.telegram.org/bot<token>/setWebhook
```

---

## üí¨ Telegram –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞         | –û–ø–∏—Å–∞–Ω–∏–µ                                  |
|----------------|---------------------------------------------|
| `/start`       | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è                  |
| (—Ñ–æ—Ç–æ –µ–¥—ã)     | AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –µ–¥—É, –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å |
| `/goal 2500`   | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–Ω–µ–≤–Ω—É—é —Ü–µ–ª—å –ø–æ –∫–∞–ª–æ—Ä–∏—è–º        |
| `/stats`       | –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–Ω—è          |
| `/mode simple` | –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º (—Ç–æ–ª—å–∫–æ –ë–ñ–£)         |
| `/mode advanced`| –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–≤–∫–ª—é—á–∞—è –º–∏–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç—ã) |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Unit-—Ç–µ—Å—Ç—ã** ‚Äî –ø–æ–∫—Ä—ã—Ç–∏–µ –ª–æ–≥–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞, —Ü–µ–ª–µ–π –∏ –ë–î (PHPUnit)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** ‚Äî Telegram API, —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) **E2E —Ç–µ—Å—Ç—ã** ‚Äî Playwright / Pest

---

## üßæ –≠–∫—Å–ø–æ—Ä—Ç –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å

- üìÅ –≠–∫—Å–ø–æ—Ä—Ç –¥–Ω–µ–≤–Ω–∏–∫–∞ –≤ PDF / CSV —á–µ—Ä–µ–∑ `/export` –≤ Telegram –∏–ª–∏ Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–∫–∞–ª–æ—Ä–∏–∏, –≤–µ—Å, –ë–ñ–£) –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## üß¨ –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- `simple` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞–ª–æ—Ä–∏–∏ –∏ –ë–ñ–£
- `advanced` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –º–∏–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç—ã, –≥—Ä–∞—Ñ–∏–∫–∏, —Ä–µ–∂–∏–º—ã –ø–∏—Ç–∞–Ω–∏—è

---

## üåê –ë—É–¥—É—â–∏–µ –ø–ª–∞–Ω—ã

- üéôÔ∏è –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ —á–µ—Ä–µ–∑ Whisper API
- üß† –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –∏ –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è
- üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apple Health / Google Fit
- üí≥ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Freemium)
- üßë‚Äçü§ù‚Äçüßë –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ –∏ —Ä–µ–∂–∏–º "–¥—Ä—É–∑–µ–π"

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä—ã –∏ –≤–∫–ª–∞–¥

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ PHP. –ò–¥–µ—è, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ–¥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã —Å —É—á—ë—Ç–æ–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é.

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ —á–∞—Å—Ç–Ω–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏.  
**–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.** –õ—é–±–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–µ–∑ –ø–∏—Å—å–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–æ.
